<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    {{ site.head }}
</head>

<body>
    <header>
        <h1><a href="{{ " /" | relative_url }}">{{ site.title }}</a></h1>
    </header>

    <main>
        {{ content }}
    </main>

    <footer>
        <p>&copy; {{ site.time | date: "%Y" }} {{ site.title }}</p>
    </footer>

    <!-- Mermaid.js -->
    <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Find all fenced code blocks with language-mermaid
            document.querySelectorAll('pre > code.language-mermaid').forEach(code => {
                const parent = code.parentElement;
                const div = document.createElement('div');
                div.className = 'mermaid';
                div.textContent = code.textContent;
                parent.replaceWith(div);
            });
            mermaid.initialize({ startOnLoad: true });
        });
    </script>
</body>

</html>